==================
Pack Updater 0.1.0
==================

Плагин для Miranda IM, выполняющий автоматическое обновление сборок (паков).

Плагин расчитан, в первую очередь, на создателей паков, которые хотят автоматизировать процесс обновления своих сборок.

0. История версий
1. Как использовать?
2. Как оно работает?
3. Копирайты и прочее


-----------------
0. История версий
-----------------

0.1.0
+ теперь отсутствующие файлы не обновляются
+ добавлен дополнительный параметр Force в описании файла. С ним можно обновлять отсутсвующие файлы
* изменен тип параметра FileType

0.0.9
* Исправлен баг с порядком в списке обновлений

0.0.8
+ Добавлена поддержка Icolib

0.0.7
+ Отключенные или неустановленные плагины большен не обновляются и не загружаются
+ Тип файлов 5. точно такой же как 4, только без перезапуска

0.0.6
* Все обновления показываются в окне одним списком
* Поправлен баг с необновлением файлов
* Изменен алгоритм сравнения версий

0.0.5
+ Добавлена x64 версия
+ Добавлена поддержка Netlib
+ Добавлена возможность обновлять плагины, иконки, ленгпак и прочие компоненты миранды
+ Добавлена возможность очищать папку со скаченными обновлениями
+ Добавлена поддержка горячих клавиш (Тонкая настройка-Горячие клавиши-Обновление сборки) по умолчанию Ctrl+F10
+ Добавлена поддержка действий плагина Popup plus
! Исправлено замерзание миранды при загрузке файлов
* Если расширение скачиваемого файла ".html", то он откроется в браузере
* Исправлен баг с Активацией кнопки применить на странице Всплывающие окна-Обновление сборки
* Изменено название плагина, теперь - это PackUpdater
* Теперь плагин стал юникодным
* Изменен формат хранения данных на сервере - все в одном файле
* В сборке для разных файлов - одна ссылка
* Исправлена логика всплывающих окон
- Убран ZeroUpdate.ini, все настройки теперь в профиле

0.0.4
+ Добавлена частичная поддержка всплывающих окон

0.0.3
+ Добавлена поддержка плагина Folders
+ Добавлена возможность переводить описание файла для загрузки
* Исправлен показ окна с обновление, даже если версия на сервере меньше текущей

0.0.2
+ Добавлена поддержка путей для сохранения апдейтов
+ Добавлена возможность отключения автоматического запуска скачанного апдейта

0.0.1
+ Собственно, пре-релиз.

--------------------
1. Как использовать?
--------------------

Шаблоны всех файлов лежат в папке Templates.

1. Имортируем настройки их Autoexec_PackUpdater.ini в профиль и добавляем в лангпак блок с переводом.

Поясню опции:
	
	FileCount - количество файлов, для которых нужно проверять апдейты. Плагин поддерживает проверку нескольких файлов, однако чаще всего бавает достаточно одного (сетапа сборки)
	
	UpdateOnStartup - Проверять ли апдейты при запуске Миранды. Настраивается в опциях, в разделе События->Обновление сборки

	File_VersionURL - Урл, по которому лежит файл с информацией о версиях для всех файлов(см. дальше)

[File_x_] (где x - порядковый номер файла, начиная с 1)
	
	CurrentVersion - изначально выставляем в 1.0.0 (или любое другое значение) и больше не трогаем
	
	LastVersion - то же самое


3. Создаём файлы с информацией о версиях (один для всех проверяемых файлов)


Описание опций:

Заголовок [FileInfo_х], где х - номер файла, начиная с 1 (должен совпадать с номером, импортированным в профиль)


FileVersion - Текущая версия файла (т. е. та, на которую обновляемся)

Message - Сообщение, которое выводит плагин при нахождении этого апдейта

DownloadURL - Урл, по которому лежит собственно файл апдейта (сетап)

DiskFileName - Имя файла на диске.

FileType - тип файла. Определяет конечное его расположение. (1 - сборка, 2 - плагин (будет установлен в папку Plugins), 3 - иконка (будет установлен в папку Icons), 4 - файлы в корне миранды (на пример, langpack, dbtool))

Descr - описание, которое будет выводится в окне обновления.

InfoURL - Опционально. Если присутствует, то в окошке уведомления появляется кнопочка "Смотреть инфо", при нажатии на которую в новом окне откроется эта страница

AdvFolder - Опционально. Если присутствует, то задает подпапку в папке определяемой типом файла.

Force - Опционально. Если присутствует, то файл будет предложен для обновления, даже если отсутствует.

4. Заливаем файл с инфой о версиях и апдейты на сервер.


--------------------
2. Как оно работает?
--------------------

У плагина есть два режима работы: тихий и обычный. Тихий используется при проверке апдейтов при запуске, обычный - при выборе пункта меню.
Сначала плагин скачивает файл с информацией о версиях и сравнивает "локальную" (File_x_CurrentVersion из профиля) версию с "удалённой" (FileVersion). Если они отличаются, то:
а). При работе в тихом режиме плагин проверяет значение LastVersion и если оно отличается от FileVersion, выдаёт сообщение об обновлении, если нет - 
сообщений об отсутствии обновлений не будет.
б). При работе в обычном режиме плагин выдаёт сообщение в любом случае.
Если юзер скачал апдейт, но решил сразу его не устанавливать, апдейт всё равно считается установленным.


---------------------
3. Копирайты и прочее
---------------------

Плагин написал товарищЪ ZERO_BiT, продолжил развитие Mataes.
Автор не несёт никакой ответственности за ущерб, явный или подразумеваемый, нанесённый этим плагином. 
Также хотелось бы попросить не удалять оригинальный копирайт.

По вопросам обращаться
	на мыло: mataes2007@gmail.com
	в аську: 4618898